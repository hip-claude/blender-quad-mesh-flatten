# Quad Mesh Flatten

4つの頂点を選択し、最初の3つの頂点で定義される平面に4番目の頂点を投影することで、クワッドメッシュを平坦化するBlenderアドオンです。

## 機能

- **平面投影**: 3つの選択した頂点で定義される平面に4番目の頂点を投影
- **軸制約移動**: X、Y、またはZ軸に沿って頂点を移動し、平面と交差させる
- **リアルタイム選択フィードバック**: UIに選択した頂点数を表示
- **アンドゥサポート**: すべての操作がBlenderのアンドゥシステムに対応

## インストール

1. [リリースページ](https://github.com/yourusername/blender-quad-mesh-flatten/releases)から最新版をダウンロード
2. Blenderで`編集 > プリファレンス > アドオン`を開く
3. `インストール...`をクリックし、ダウンロードした`quad_mesh_flatten.py`ファイルを選択
4. 「Quad Mesh Flatten」の横のチェックボックスをオンにしてアドオンを有効化

## 使い方

1. メッシュオブジェクトを選択し、編集モードに入る
2. 正確に4つの頂点を選択する
3. 最後に選択した頂点が移動対象になります
4. サイドバー（Nキー）を開き、「編集」タブに移動
5. 「Quad Mesh Flatten」パネルを見つける
6. 以下の操作から選択：
   - **平面化 (Flatten to Plane)**: 頂点を平面に垂直に投影
   - **X軸移動 (Move along X)**: 頂点をX軸方向のみに移動して平面と交差
   - **Y軸移動 (Move along Y)**: 頂点をY軸方向のみに移動して平面と交差
   - **Z軸移動 (Move along Z)**: 頂点をZ軸方向のみに移動して平面と交差

## スクリーンショット

### UIパネル
![Quad Mesh Flatten パネル](screenshots/panel.png)
*編集モードサイドバーのアドオンパネル*

### 操作前後の例

#### 通常の平面投影
| 操作前 | 操作後 |
|--------|-------|
| ![平面化前](screenshots/before_normal.png) | ![平面化後](screenshots/after_normal.png) |
| *4つの頂点を選択（非平面）* | *4番目の頂点を平面に投影* |

#### 軸制約移動
| 操作前 | 操作後（X軸） | 操作後（Y軸） | 操作後（Z軸） |
|--------|----------------|----------------|----------------|
| ![軸移動前](screenshots/before_axis.png) | ![X軸移動後](screenshots/after_x.png) | ![Y軸移動後](screenshots/after_y.png) | ![Z軸移動後](screenshots/after_z.png) |
| *元のクワッドメッシュ* | *X軸に沿って移動* | *Y軸に沿って移動* | *Z軸に沿って移動* |

## 動作要件

- Blender 4.4以上
- Windows 11
- メッシュオブジェクトの編集モードで動作

## ライセンス

このプロジェクトはMITライセンスの下でライセンスされています。詳細については[LICENSE](LICENSE)ファイルを参照してください。

## 貢献

貢献を歓迎します！プルリクエストをお気軽に提出してください。

## 問題・要望

問題が発生した場合や提案がある場合は、[Issues](https://github.com/yourusername/blender-quad-mesh-flatten/issues)ページで報告してください。

## 変更履歴

### バージョン 1.0
- 初回リリース
- 基本的な平面投影機能
- 軸制約移動オプション
- 編集モードサイドバーのUIパネル